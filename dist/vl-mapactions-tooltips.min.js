import Overlay from"ol/src/ol/Overlay";export class Tooltips{constructor(t,e,o,n){this.layer=t,t.tooltips=[],this.showTooltip=function(s,i,r,l){l=l||{};const c=document.createElement("div");c.innerHTML="<span class='content'></span><div class='arrow'></div>",c.setAttribute("class","info-tooltip");const a=new Overlay({offset:l.offset||[0,-10],positioning:"bottom-center",insertFirst:!1});function p(t){c.childNodes[0].innerHTML=t,a.setPosition(r),a.setElement(c),c.parentNode.style.position="fixed"}a.setElement(c),s.addOverlay(a),t.tooltips.push(a);var f=0,u=setTimeout((function(){f=500,p("<span class='icon'></span> "+(o||"Info berekenen  ..."))}),100);e(i,r).then((function(t){setTimeout((function(){clearTimeout(u),p(t),s.render(),n&&n(i,r)}),f)}))},this.clear=t=>{this.layer.tooltips.forEach((function(e){t.removeOverlay(e)}))}}}
